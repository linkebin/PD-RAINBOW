<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../../../Styles/themes/default/style.css"  media="all">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link href="/Scripts/libs/ligerUI/skins/Aqua/css/ligerui-all.css" rel="stylesheet" type="text/css" />
    <script th:src="@{/Scripts/jquery-1.9.0.min.js}"  charset="utf-8"></script>
    <script th:src="@{/Scripts/date2format.js}"  charset="utf-8"></script>


    <script src="/Scripts/libs/ligerUI/js/ligerui.all.js" type="text/javascript"></script>
</head>
<body>
<div class="eui-bd">
    <div class="eui-sd1 eui-sd1-type3">
        <div class="eui-col-md3 etree">
            <p>组织结构树</p>
            <ul id="menuTree"></ul>
        </div>
    </div>
</div>
<script type="text/javascript">
    //加载菜单树
    function loadOrgTree() {
        $.ajax({
            url:"/sec/menu/tree",
            type:"post",
            success:function(result){
                //菜单树
                menuTree =   $("#menuTree").ligerTree({
                    data:result.data,
                    checkbox: false,
                    parentIcon: 'folder',
                    childIcon: 'leaf' ,
                    slide: false, //是否显示动画
                    nodeWidth: 200,
                    isExpand:2,
                    idFieldName: 'id',
                    textFieldName:'name' ,
                    onSelect: function (node)
                    {
                        $("#id").val(node.data.id);
                        $("#parentName").val(node.data.name);
                        doSearch();
                    },
                    onError:function(node){
                        $.ligerDialog.error('菜单列表加载失败!');
                    }
                });
                $("#menuTree .l-body").mouseover(function(){
                    var text =$(this).find('span').html();
                    $(this).attr("title",text);
                });
            }
        });
    }
</script>
</body>
</html>